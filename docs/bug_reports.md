# Bug Reports

## BUG-001: Ошибка 500 при удалении задачи с несуществующим индексом

**ID:** BUG-001  
**Описание:**  
При попытке удалить задачу с индексом, превышающим длину списка задач, сервер возвращает ошибку 500 (Internal Server Error). Это происходит из-за отсутствия проверки валидности индекса в методе `delete_todo`.  

### Окружение  
- **URL:** [https://davidchamytodo.onrender.com](https://davidchamytodo.onrender.com)  
- **Платформа:** Render (Free Tier)  
- **Репозиторий:** [github.com/Davidchastr/todo-list](https://github.com/Davidchastr/todo-list)  
- **Браузер:** Яндекс Браузер Версия 25.2.2.834 (64-bit)  

### Шаги воспроизведения  
1. Открыть сайт [https://davidchamytodo.onrender.com](https://davidchamytodo.onrender.com).  
2. Добавить одну задачу (например, "Тест", категория "Работа", приоритет "Высокий").  
3. В адресной строке ввести `https://davidchamytodo.onrender.com/delete/999` и нажать Enter.  

### Фактический результат  
Сервер возвращает страницу с ошибкой:  
> В логах Render появляется сообщение об исключении `IndexError: pop index out of range`.  

### Ожидаемый результат  
Пользователь перенаправляется на главную страницу, список задач остается без изменений, ошибка не отображается.  

### Приоритет  
**Средний**: Ошибка не затрагивает типичное использование через интерфейс, но снижает надежность приложения.  

---

## BUG-002: Приоритет задачи не обновляется при редактировании  

**ID:** BUG-002  
**Описание:**  
При редактировании задачи через форму изменение приоритета не сохраняется. После выбора нового приоритета и сохранения задача остается со старым значением.  

### Окружение  
- **URL:** [https://davidchamytodo.onrender.com](https://davidchamytodo.onrender.com)  
- **Платформа:** Render (Free Tier)  
- **Репозиторий:** [github.com/Davidchastr/todo-list](https://github.com/Davidchastr/todo-list)  
- **Браузер:** Яндекс Браузер Версия 25.2.2.834 (64-bit)  

### Шаги воспроизведения  
1. Открыть сайт.  
2. Добавить задачу:  
   - Текст: "Позвонить другу".  
   - Категория: "Личное".  
   - Приоритет: "Средний".  
3. Нажать кнопку "✎" для редактирования.  
4. Изменить приоритет на "Высокий".  
5. Нажать "Сохранить".  

### Фактический результат  
Приоритет остается "Средний", хотя был выбран "Высокий".  

### Ожидаемый результат  
Задача должна обновиться с новым приоритетом.  

### Воспроизводимость  
Всегда (100%).  

### Приоритет  
**Средний**: Пользователь может быть сбит с толку.  

---

## BUG-011: XSS-уязвимость при добавлении задачи  

**ID:** BUG-011  
**Описание:**  
При вводе HTML-тегов в поле ввода задачи браузер интерпретирует их как код, что позволяет выполнить JavaScript.  

### Шаги воспроизведения  
1. Открыть сайт.  
2. Ввести в поле задачи: `<script>alert("test")</script>`.  
3. Выбрать категорию "Срочное" и приоритет "Высокий".  
4. Нажать "Добавить".  

### Ожидаемый результат  
Текст должен отобразиться без выполнения скрипта.  

### Фактический результат  
Скрипт выполняется, появляется всплывающее окно.  

### Окружение  
- **URL:** [https://davidchamytodo.onrender.com](https://davidchamytodo.onrender.com)  
- **Платформа:** Render (Free Tier)  
- **Репозиторий:** [github.com/Davidchastr/todo-list](https://github.com/Davidchastr/todo-list)  
- **Браузер:** Яндекс Браузер Версия 25.2.2.834 (64-bit)  

### Приоритет  
**Высокий**: Уязвимость безопасности.  

---

## BUG-015: Стили приоритетов не применяются из-за несоответствия CSS-классов  

**ID:** BUG-015  
**Описание:**  
При добавлении задач с разными приоритетами стили цветового оформления не применяются.  

### Окружение  
- **URL:** [https://davidchamytodo.onrender.com](https://davidchamytodo.onrender.com)  
- **Платформа:** Render (Free Tier)  
- **Репозиторий:** [github.com/Davidchastr/todo-list](https://github.com/Davidchastr/todo-list)  
- **Браузер:** Яндекс Браузер Версия 25.2.2.834 (64-bit)  

### Шаги воспроизведения  
1. Добавить три задачи с приоритетами "Высокий", "Средний", "Низкий".  
2. Проверить их отображение.  

### Ожидаемый результат  
Цветовые стили применяются:  
- Высокий — красный фон.  
- Средний — желтый фон.  
- Низкий — зеленый фон.  

### Фактический результат  
Стили не применяются.  

### Приоритет  
**Средний**: Влияет на UX, но не критично.  
